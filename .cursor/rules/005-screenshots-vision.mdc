---
description: "–ü—Ä–∞–≤–∏–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏ vision API: —Ñ–æ—Ä–º–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, launchContext, –∫–æ–º–∞–Ω–¥—ã —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ - –¥–ª—è screenshot —Ñ–∞–π–ª–æ–≤"
globs: "src/screenshot*.ts,src/core/aiProvider.ts,src/core/makeScreenshot.ts"
alwaysApply: true
---

# –°–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ Vision API

## üñºÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- **OpenAI**: base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è vision –º–æ–¥–µ–ª–µ–π
- **Gemini**: upload —á–µ—Ä–µ–∑ Files API —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã**: PNG, JPEG, WebP, GIF
- –ü—Ä–æ–≤–µ—Ä—è–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –∏ MIME —Ç–∏–ø

## üì± –ü–∞—Ç—Ç–µ—Ä–Ω —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤

```typescript
// ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å launchContext
if (props.launchContext?.attachmentFile) {
  const screenshotPath = props.launchContext.attachmentFile;
  const attachment = await provider.prepareAttachment(screenshotPath);
}
```

## üîß –ö–æ–º–∞–Ω–¥—ã —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤

- `screenshotToMarkdown`: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ ‚Üí markdown
- `screenshotToTranslate`: –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
- `screenshotToExplain`: –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
- **–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–ª—è vision**

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **Reasoning –º–æ–¥–µ–ª–∏ –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç vision** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ GPT-4o
- –ü–æ–∫–∞–∑—ã–≤–∞–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
- –°–æ—Ö—Ä–∞–Ω—è–π –∏—Å—Ö–æ–¥–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–æ–¥–µ–ª–∏
